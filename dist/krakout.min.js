"use strict";function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();!function(t,e){e.Krakout=e.Krakout||t(e)}(function(t){var e={viewmode:"fullscreen"},n=4096,i=2160,r=function s(r){function o(){a(["ball","board","layout"],c(r)),new l(u.board)}function a(t,e){if("string"!=typeof t)for(var n in t)a(t[n],e);else{var i=document.createElement("canvas");i.style.position="absolute",i.style.top=0,i.style.left=0,i.id=i.className="krakout-canvas-"+t,r.appendChild(i),e(i),u[t]=i.getContext("2d")}}function c(e){return function(r){r.width=n,r.height=i,r.style.width=t.getComputedStyle(e).width,r.style.height=t.getComputedStyle(e).height}}arguments.length<=1||void 0===arguments[1]?e:arguments[1];_classCallCheck(this,s);var h=this,u=h._canvas={};o()},o=function(){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];_classCallCheck(this,t);var i=this;i.__willChange=[],i.ctx=e,i.config=n,n.x=n.x||0,n.y=n.y||0,this.regChange(["x","y","width","height"]),this.initReady(),this.reDraw(),this.initComplete()}return _createClass(t,[{key:"regChange",value:function(t){if(t)if("string"==typeof t)this.__willChange.push(t);else if(t.length)this.__willChange=this.__willChange.concat(t);else for(var e in t)this.regChange(item)}},{key:"change",value:function(t){var e=!1;for(var n in t)n in this.config&&this.__willChange.includes(n)&&(this.config[n]=t[n],e=!0);e&&this.reDraw()}},{key:"clear",value:function(){var t=this.last;t&&this.ctx.clearRect(t.x,t.y,t.width,t.height)}},{key:"record",value:function(){var t=this.last={};for(var e in this.config)t[e]=this.config[e]}},{key:"initReady",value:function(){}},{key:"beforeDraw",value:function(){this.clear(),this.record()}},{key:"draw",value:function(){}},{key:"afterDraw",value:function(){}},{key:"initComplete",value:function(){}},{key:"reDraw",value:function(){this.beforeDraw(),this.draw(),this.afterDraw()}}]),t}(),a=function(t){function e(t){var n=arguments.length<=1||void 0===arguments[1]?{width:400,height:40}:arguments[1];return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).call(this,t,n))}return _inherits(e,t),e}(o),l=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"draw",value:function(){var t=this.ctx,e=this.config,n=new Path2D;n.rect(e.x,e.y,e.width,e.height),t.fill(n)}},{key:"initComplete",value:function(){var t=this;setInterval(function(){console.log(t.config.x),t.change({x:+t.config.x+1})},10)}}]),e}(a);return r},window);